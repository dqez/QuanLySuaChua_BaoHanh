@model QuanLySuaChua_BaoHanh.Areas.QuanTriVien.Controllers.AccountsOverviewViewModel
@{
    ViewData["Title"] = "Quản lý tài khoản và phân quyền";
    Layout = "_LayoutAdmin";
}

<style>
    .page-title {
        font-family: 'Baloo 2', cursive;
        font-weight: 700;
        color: var(--blue-primary);
        margin-bottom: 25px;
    }
    
    .content-card {
        background-color: var(--white);
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        padding: 25px;
        margin-bottom: 30px;
        width: 100%;
        height: 100%;
    }
    
    .card-header-custom {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding-bottom: 15px;
        margin-bottom: 20px;
        border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    }
    
    .header-title {
        font-family: 'Baloo 2', cursive;
        font-weight: 600;
        font-size: 1.25rem;
        color: var(--blue-primary);
        margin: 0;
    }
    
    .custom-table {
        width: 100%;
        border-collapse: separate;
        border-spacing: 0;
    }
    
    .custom-table th {
        background-color: #f8f9fa;
        color: #495057;
        font-weight: 600;
        padding: 12px 15px;
        border-bottom: 2px solid #dee2e6;
    }
    
    .custom-table td {
        padding: 10px 15px;
        border-bottom: 1px solid #dee2e6;
        vertical-align: middle;
    }
    
    .custom-table tr:hover {
        background-color: rgba(49, 155, 197, 0.05);
    }
    
    .btn-primary-custom {
        background-color: var(--blue-primary);
        color: white;
        border: none;
        border-radius: 5px;
        padding: 8px 16px;
        text-decoration: none;
        font-size: 14px;
        transition: background-color 0.2s;
    }
    
    .btn-primary-custom:hover {
        background-color: #2580a3;
        color: white;
    }
    
    .btn-action {
        padding: 6px 10px;
        margin-right: 3px;
        color: white;
        border: none;
        border-radius: 4px;
        font-size: 13px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s ease;
    }
    
    .btn-info {
        background-color: #17a2b8;
    }
    
    .btn-info:hover {
        background-color: #138496;
        color: white;
    }
    
    .btn-edit {
        background-color: var(--blue-primary);
    }
    
    .btn-edit:hover {
        background-color: #2580a3;
        color: white;
    }
    
    .btn-delete {
        background-color: #dc3545;
    }
    
    .btn-delete:hover {
        background-color: #c82333;
        color: white;
    }
    
    .view-all-btn {
        background-color: transparent;
        border: 1px solid var(--blue-primary);
        color: var(--blue-primary);
        border-radius: 5px;
        padding: 8px 20px;
        text-align: center;
        text-decoration: none;
        font-size: 14px;
        transition: all 0.2s;
    }
    
    .view-all-btn:hover {
        background-color: var(--blue-primary);
        color: white;
    }
    
    .alert-custom {
        border-radius: 8px;
        padding: 15px;
        margin-bottom: 20px;
    }
</style>

<h1 class="page-title"><i class="bi bi-gear me-2"></i>Quản lý tài khoản và phân quyền</h1>

@if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-custom alert-success">
        <i class="bi bi-check-circle me-2"></i> @TempData["SuccessMessage"]
    </div>
}

@if (TempData["ErrorMessage"] != null)
{
    <div class="alert alert-custom alert-danger">
        <i class="bi bi-exclamation-triangle me-2"></i> @TempData["ErrorMessage"]
    </div>
}    <div class="row">
        <!-- Người dùng Card -->
        <div class="col-md-6 mb-4">
            <div class="content-card">
                <div class="card-header-custom">
                    <h5 class="header-title"><i class="bi bi-people me-2"></i>Quản lý người dùng</h5>
                    <a asp-area="QuanTriVien" asp-controller="User" asp-action="Create" class="btn-primary-custom btn-sm">
                        <i class="bi bi-plus-circle me-1"></i>Thêm người dùng
                    </a>
                </div>
                <div class="table-responsive">
                    <table class="custom-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Tên người dùng</th>
                                <th>Họ tên</th>
                                <th>Tùy chọn</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var user in Model.Users)
                            {
                                <tr>
                                    <td>@user.Id</td>
                                    <td>@user.UserName</td>
                                    <td>@user.HoTen</td>
                                    <td>
                                        <a asp-area="QuanTriVien" asp-controller="User" asp-action="Details" asp-route-id="@user.Id" class="btn-action btn-info">
                                            <i class="bi bi-info-circle"></i>
                                        </a>
                                        <a asp-area="QuanTriVien" asp-controller="User" asp-action="Edit" asp-route-id="@user.Id" class="btn-action btn-edit">
                                            <i class="bi bi-pencil"></i>
                                        </a>
                                        <a asp-area="QuanTriVien" asp-controller="User" asp-action="Delete" asp-route-id="@user.Id" class="btn-action btn-delete">
                                            <i class="bi bi-trash"></i>
                                        </a>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
                <div class="text-center mt-4">
                    <a asp-area="QuanTriVien" asp-controller="User" asp-action="Index" class="view-all-btn">
                        <i class="bi bi-list-ul me-1"></i> Xem tất cả người dùng
                    </a>
                </div>
            </div>
        </div>

        <!-- Vai trò Card -->
        <div class="col-md-6 mb-4">
            <div class="content-card">
                <div class="card-header-custom">
                    <h5 class="header-title"><i class="bi bi-shield-check me-2"></i>Quản lý vai trò</h5>
                    <a asp-area="QuanTriVien" asp-controller="Role" asp-action="Create" class="btn-primary-custom btn-sm">
                        <i class="bi bi-plus-circle me-1"></i>Thêm vai trò
                    </a>
                </div>                <div class="table-responsive">
                    <table class="custom-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Tên vai trò</th>
                                <th>Tùy chọn</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var role in Model.Roles)
                            {
                                <tr>
                                    <td>@role.Id</td>
                                    <td>@role.Name</td>
                                    <td>
                                        <a asp-area="QuanTriVien" asp-controller="Role" asp-action="Edit" asp-route-id="@role.Id" class="btn-action btn-edit">
                                            <i class="bi bi-pencil"></i>
                                        </a>
                                        <a asp-area="QuanTriVien" asp-controller="Role" asp-action="Delete" asp-route-id="@role.Id" class="btn-action btn-delete">
                                            <i class="bi bi-trash"></i>
                                        </a>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
                <div class="text-center mt-4">
                    <a asp-area="QuanTriVien" asp-controller="Role" asp-action="Index" class="view-all-btn">
                        <i class="bi bi-list-ul me-1"></i> Xem tất cả vai trò
                    </a>
                </div>
            </div>
        </div>
    </div>
      <!-- Phân quyền Card -->
    <div class="row">
        <div class="col-12">
            <div class="content-card">
                <div class="card-header-custom">
                    <h5 class="header-title"><i class="bi bi-shield-lock me-2"></i>Phân quyền người dùng</h5>
                </div>
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <p class="mb-0" style="font-size: 15px; line-height: 1.6;">
                            Tại đây bạn có thể quản lý vai trò cho từng người dùng trong hệ thống, giúp phân quyền truy cập
                            vào các chức năng khác nhau. Mỗi người dùng có thể được gán nhiều vai trò khác nhau tùy theo nhu cầu.
                        </p>
                    </div>
                    <div class="col-md-4 text-center">
                        <a asp-area="QuanTriVien" asp-controller="Role" asp-action="AssignRoles" class="btn-primary-custom" style="padding: 10px 20px;">
                            <i class="bi bi-person-lock me-1"></i> Phân quyền cho người dùng
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
